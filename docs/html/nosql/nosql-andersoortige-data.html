
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="nl">
  <head>
    <meta charset="utf-8" />
    <title>Andersoortige data &#8212; Databases-0 0.1 documentatie</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/accessibility.css?v=808B982A" />
    <link rel="stylesheet" type="text/css" href="../_static/dragndrop.css?v=1FF7F927" />
    <link rel="stylesheet" type="text/css" href="../_static/poll.css?v=E220AC33" />
    <link rel="stylesheet" type="text/css" href="../_static/parsons.css?v=2F3E13EE" />
    <link rel="stylesheet" type="text/css" href="../_static/js_lib/prettify.css?v=2A364B6B" />
    <link rel="stylesheet" type="text/css" href="../_static/reveal.css?v=4A81D381" />
    <link rel="stylesheet" type="text/css" href="../_static/tabbedstuff.css?v=424F1CC9" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/mchoice.js?v=6F3B51A7"></script>
    <script type="text/javascript" src="../_static/timedmc.js?v=B010A457"></script>
    <script type="text/javascript" src="../_static/timed.js?v=6789FE30"></script>
    <script type="text/javascript" src="../_static/shortanswer.js?v=BB0B99B1"></script>
    <script type="text/javascript" src="../_static/timed_shortanswer.js?v=B3A117D7"></script>
    <script type="text/javascript" src="../_static/dragndrop.js?v=3984FD8D"></script>
    <script type="text/javascript" src="../_static/timeddnd.js?v=378F237E"></script>
    <script type="text/javascript" src="../_static/poll.js?v=11AD6126"></script>
    <script type="text/javascript" src="../_static/js_lib/prettify.js?v=CA7E8928"></script>
    <script type="text/javascript" src="../_static/js_lib/hammer.min.js?v=73056367"></script>
    <script type="text/javascript" src="../_static/parsons.js?v=93EFFF39"></script>
    <script type="text/javascript" src="../_static/timedparsons.js?v=2EEA9E5A"></script>
    <script type="text/javascript" src="../_static/reveal.js?v=9C3AAF60"></script>
    <script type="text/javascript" src="../_static/tabbedstuff.js?v=5BE6106"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Zoeken" href="../search.html" />
    <link rel="next" title="Andersoortig gebruik" href="nosql-andersoortig-gebruik.html" />
    <link rel="prev" title="NoSQL en Linked Data" href="../nosql.html" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = '' ? '' : 'http://127.0.0.1:8000';
/*
  eBookConfig.app = eBookConfig.host+'/';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = '';
  eBookConfig.logLevel = ;
  eBookConfig.loginRequired = ;
  eBookConfig.build_info = "";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = ;
  eBookConfig.python3 = ;
  eBookConfig.basecourse = '';
  eBookConfig.runestone_version = '';
*/
</script>
<script type="application/json" class="js-hypothesis-config">
{
"showHighlights": false
}
</script>
<script async src="https://hypothes.is/embed.js"></script>

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Databases-0</a></h1>








<h3>Navigatie</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../voorwoord.html">Voorwoord</a></li>
<li class="toctree-l1"><a class="reference internal" href="../voorbeelden.html">Voorbeelden</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inleiding.html">Inleiding Databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../relationele-databases.html">Relationele databases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database-ontwerp.html">Database-ontwerp</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../nosql.html">NoSQL en Linked Data</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Andersoortige data</a></li>
<li class="toctree-l2"><a class="reference internal" href="nosql-andersoortig-gebruik.html">Andersoortig gebruik</a></li>
<li class="toctree-l2"><a class="reference internal" href="nosql-opdrachten.html">Opdrachten</a></li>
<li class="toctree-l2"><a class="reference internal" href="linked-data.html">Linked Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../verdieping.html">Verdieping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Begrippenlijst</a></li>
<li class="toctree-l1"><a class="reference internal" href="../voordedocent.html">Voor de docent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../colofon.html">Colofon</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../nosql.html">NoSQL en Linked Data</a><ul>
      <li>Previous: <a href="../nosql.html" title="vorig hoofdstuk">NoSQL en Linked Data</a></li>
      <li>Next: <a href="nosql-andersoortig-gebruik.html" title="volgend hoofdstuk">Andersoortig gebruik</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Snel zoeken</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Zoek" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="andersoortige-data">
<h1>Andersoortige data<a class="headerlink" href="#andersoortige-data" title="Permalink naar deze titel">¶</a></h1>
<p>Als voorbeeld van andersoortige data gebruiken we een database-model met twee entiteiten (Contact, Event) en een relatie (“neemt deel aan”/deelnemer).
Denk als toepassing(en) in dit geval aan de contacten- en agenda-toepassingen op een smartphone.
Van de entiteiten Contact en Event hebben we soms weinig, en soms veel gegevens (attributen).</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../_images/Contact-event-relatie.png"><img alt="../_images/Contact-event-relatie.png" src="../_images/Contact-event-relatie.png" style="width: 700px;" /></a>
<p class="caption"><span class="caption-text">Contact - neemt deel aan - Event</span><a class="headerlink" href="#id1" title="Permallink naar deze afbeelding">¶</a></p>
</div>
<p>Entiteit Contact, met attributen o.a.:</p>
<ul class="simple">
<li><p>naam (voornaam, achternaam)</p></li>
<li><p>adres (straat, nummer, woonplaats, postcode)</p></li>
<li><p>email-adres(sen)</p></li>
<li><p>telefoonnummer(s)</p></li>
<li><p>geboortedatum</p></li>
<li><p>partner</p></li>
<li><p>…</p></li>
</ul>
<p>Entiteit Event (“afspraak” in een agenda),  met attributen o.a.:
* begintijd, eindtijd
* deelnemers (zo mogelijk als verwijzingen naar de contactgegevens)
* onderwerp
* locatie
* …</p>
<p>In beide gevallen hebben we te maken met een groot aantal ‘’optionele attributen’’.
(Dat wil zeggen dat ze NULL kunnen zijn).
Sommige attributen, zoals email-adres en telefoonnummer, kunnen ‘’meerdere waarden’’ hebben (multivalued).
Attributen zoals adres zijn ‘’samengesteld’’ (composite): een attribuut bestaat dan uit deelattributen.
Deze deelattributen kunnen ook weer meerwaardig of samengesteld zijn.
We kennen mogelijk niet eens alle attributen vooraf; het zijn er in elk geval teveel om in zo’n diagram op te noemen.
(Hier komen we later op terug.)</p>
<p>We hebben hier te maken met data die een heel andere structuur heeft dan in het vorige voorbeeld.
Entiteiten met een groot aantal optionele attributen en met samengestelde en meervoudige attributen passen niet goed bij het “rechhoekige” karakter van een tabel in een relationele database.</p>
<blockquote>
<div><p>Je kunt deze wel vertalen naar een relationele database, maar dat betekent vaak (i) veel kolommen met een groot aantal NULL-waarden; (ii) extra tabellen. Beide zijn niet erg efficiënt.</p>
</div></blockquote>
<p>In deze gevallen past een ‘’document-structuur’’ beter dan een tabel-structuur.</p>
<p>Een document is een verzameling (naam, waarde) paren, waarbij een waarde één van de volgende vormen is:
* enkelvoudig: een string/getal/boolean/datum/verwijzing, of
* samengesteld: een verzameling (naam, waarde) paren, of
* meerwaardig: een array van waarden.</p>
<p>Een (naam, waarde)-paar noemen we een veld.</p>
<p>Merk op dat een samengestelde waarde ook weer een samengestelde waarde kan bevatten, of een meerwaardige waarde.
Hetzelfde geldt voor meerwaardige waarden.</p>
<p>Voorbeelden van documenten (passend bij ons voorbeeld):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;Voornaam&#39;: &#39;Hans&#39;,
 &#39;Achternaam&#39;: &#39;de Vries&#39;,
 &#39;Adres&#39;: {&#39;Straat&#39;: &#39;Achterweg 12&#39;, &#39;Plaats&#39;: &#39;Arnhem&#39;},
 &#39;Telefoon&#39;: [&#39;06-1234 5678&#39;, &#39;026-123 5678&#39;],
 &#39;Email&#39;: [&#39;hdv@ziggo.nl&#39;, &#39;hansdevries@kpnmail.nl&#39;]
}

{&#39;Voornaam&#39;: &#39;Anna&#39;,
 &#39;Achternaam&#39;: &#39;Groen&#39;,
 &#39;Email&#39;: [&#39;anna67@ziggomail.nl&#39;]
}

{&#39;Beschrijving&#39;: &#39;Jaarvergadering&#39;,
 &#39;Locatie&#39;: &#39;Domstad Utrecht&#39;,
 &#39;Datum&#39;: &#39;2020-2-21&#39;,
 &#39;Deelnemers&#39;: [&#39;hdv@ziggo.nl&#39;, &#39;anna67@ziggomail.nl&#39; ]
}
</pre></div>
</div>
<p>We zien in deze documenten voorbeelden van samengestelde waarden (Adres) en van meervoudige waarden (Email, Telefoon).
Dit zijn kleine voorbeelden; een document kan ook erg groot zijn, bijvoorbeeld als een waarde een (zeer) grote string betreft.
Dit betekent dat documenten van eenzelfde soort sterk kunnen verschillen in grootte en in aantallen velden.</p>
<p class="rubric">JSON</p>
<p>Je noteert een document vaak met behulp van JSON of een variant daarvan (MongoDB: BSON).
JSON-objecten kun je direct omzetten in een JavaScript-object (&lt;code&gt;obj = JSON.parse(jsonstring); &lt;/code&gt;  en omgekeerd: &lt;code&gt;obj.stringify()&lt;/code&gt;;
voor vrijwel alle programmeertalen heb je dergelijke conversies.</p>
<p>De JSON-vorm wordt veel gebruikt voor het communiceren van objecten, bijvoorbeeld tussen een webserver en een client (browser);
en voor het opslaan en terugzoeken van objecten, bijvoorbeeld in LocalStorage in de browser, of in een database.</p>
<p>Voor een beschrijving van JSON, zie <a class="reference external" href="https://www.json.org">https://www.json.org</a>. in een bestand (bijvoorbeeld LocalStorage in een browser) of in een database.</p>
<p class="rubric">MongoDB</p>
<p>MongoDB is een voorbeeld van een document-database.
Met een document-database kun je:</p>
<ul class="simple">
<li><p>documenten (in JSON-formaat of vergelijkbaar) opslaan en terugzoeken;</p></li>
<li><p>zoeken op alle velden van deze documenten.</p></li>
</ul>
<p>Dit laatste is het verschil met een key-value database: je kunt daarin wel documenten als value opslaan, maar je kunt alleen op de key zoeken.</p>
<p>In MongoDB organiseer je documenten in <em>collections</em> van gelijksoortige documenten.
Een collection kun je vergelijken met een tabel in een relationele database,
met het verschil dat de documenten in een collection onderling sterk kunnen verschillen.
Dit past goed bij ons voorbeeld: de ene contactpersoon heeft weinig velden,
en de andere juist erg veel.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 40%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ERD-model</p></th>
<th class="head"><p>Relationele Database</p></th>
<th class="head"><p>Document-database</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Entiteit</p></td>
<td><p>Tabel</p></td>
<td><p>Collection</p></td>
</tr>
<tr class="row-odd"><td><p>(instantie)</p></td>
<td><p>Rij</p></td>
<td><p>Document</p></td>
</tr>
<tr class="row-even"><td><p>Attribuut</p></td>
<td><p>Kolom</p></td>
<td><p>Veld</p></td>
</tr>
<tr class="row-odd"><td><p>Relatie</p></td>
<td><p>Foreign key</p></td>
<td><p>Foreign key</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Identificatie (key)</p>
<p>Voor het identificeren van een document in een collection gebruik je het veld <code class="code docutils literal notranslate"><span class="pre">_id</span></code> als <em>key</em>.
MongoDB genereert hiervoor een unieke waarde; of je kiest zelf een unieke waarde.
De gegenereerde key-waarden zijn echt uniek, voor alle MongoDB collections en databases.</p>
<blockquote>
<div><p>Een key in MongoDB is dus nooit een combinatie van velden;
dit in tegenstelling tot een relationele database, waar een key een combinatie van kolommen kan zijn.</p>
</div></blockquote>
<p>In de hoofdstukken NoSQL werken we dit voorbeeld verder uit met behulp van MongoDB.</p>
<p class="rubric">Voorbeeld in MongoDB</p>
<p>Voor dit voorbeeld ligt het voor de hand om voor Contact en Event documenten in verschillende collections, &lt;code&gt;contacts&lt;/code&gt; en &lt;events&gt;,
te maken.
We kunnen de contact-voorbeelden hierin direct opslaan; we laten MongoDB de keys bepalen.</p>
</div>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>

    <div class="footer">
      &copy;2019, SLO.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/nosql/nosql-andersoortige-data.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
<script type="text/javascript">
  $(document).trigger("runestone:login-complete");
</script>

  </body>
</html>